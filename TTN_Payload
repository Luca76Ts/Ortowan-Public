function Decoder(bytes, port) {
  const decoded = {};

  // ğŸ” Mappa codici errore â†’ descrizioni leggibili
  const errorMap = {
    0: "Nessun errore",
    1: "Sensore umiditÃ  1 guasto",
    2: "Sensore umiditÃ  2 guasto",
    3: "Pompa bloccata",
    4: "Flusso anomalo",
    5: "Errore comunicazione",
    126: "Errore simulato",
    127: "Errore non definito"
  };

  // ğŸ“¦ Decodifica payload
  decoded.umidita1 = bytes[0];         // 0â€“100%
  decoded.umidita2 = bytes[1];         // 0â€“100%
  decoded.pompa = bytes[2] === 1 ? "ON" : "OFF";
  decoded.impulsi = bytes[3];

  // ğŸ§ª Verifica se il pacchetto Ã¨ simulato (MSB attivo)
  decoded.simulato = (bytes[4] & 0x80) !== 0;

  // ğŸ”¢ Rimuove MSB per ottenere codice reale
  const codiceErrore = bytes[4] & 0x7F;

  // ğŸ§¾ Traduzione in testo leggibile
  decoded.errore = errorMap[codiceErrore] || `Codice ${codiceErrore}`;

  return decoded;
}
